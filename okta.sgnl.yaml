# Okta Configuration YAML for DS2.0
displayName: "Okta"
icon: |
  PHN2ZyB3aWR0aD0iNjQiIGhlaWdodD0iNjQiIHZpZXdCb3g9IjAgMCA2NCA2NCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjY0IiBoZWlnaHQ9IjY0IiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTM0LjM5MDMgOC4zMzMzM0wzMy40MDM3IDIwLjQ5MzNDMzIuOTM3IDIwLjQ0IDMyLjQ3MDQgMjAuNDEzMyAzMS45OTA0IDIwLjQxMzNDMzEuMzkwNCAyMC40MTMzIDMwLjgwMzcgMjAuNDUzMyAzMC4yMzA0IDIwLjU0NjdMMjkuNjcwNCAxNC42NTMzQzI5LjY1NyAxNC40NjY3IDI5LjgwMzcgMTQuMzA2NyAyOS45OTA0IDE0LjMwNjdIMzAuOTkwNEwzMC41MTA0IDguMzQ2NjdDMzAuNDk3IDguMTYgMzAuNjQzNyA4IDMwLjgxNyA4SDM0LjA4MzdDMzQuMjcwMyA4IDM0LjQxNyA4LjE2IDM0LjM5MDMgOC4zNDY2N1Y4LjMzMzMzWk0yNi4xNTA0IDguOTMzMzNDMjYuMDk3IDguNzYgMjUuOTEwNCA4LjY1MzMzIDI1LjczNyA4LjcyTDIyLjY3MDQgOS44NEMyMi40OTcgOS45MDY2NyAyMi40MTcgMTAuMTA2NyAyMi40OTcgMTAuMjY2N0wyNC45OTA0IDE1LjcwNjdMMjQuMDQzNyAxNi4wNTMzQzIzLjg3MDQgMTYuMTIgMjMuNzkwNCAxNi4zMiAyMy44NzA0IDE2LjQ4TDI2LjQxNyAyMS44MjY3QzI3LjMzNyAyMS4zMiAyOC4zMzcgMjAuOTMzMyAyOS4zOTA0IDIwLjY5MzNMMjYuMTYzNyA4LjkzMzMzSDI2LjE1MDRaTTE4LjYzMDQgMTIuMzJMMjUuNjgzNyAyMi4yNjY3QzI0Ljc5MDQgMjIuODUzMyAyMy45NzcgMjMuNTQ2NyAyMy4yODM3IDI0LjM0NjdMMTkuMDU3IDIwLjE4NjdDMTguOTIzNyAyMC4wNTMzIDE4LjkzNyAxOS44NCAxOS4wNzA0IDE5LjcyTDE5Ljg0MzcgMTkuMDhMMTUuNjQzNyAxNC44MjY3QzE1LjUxMDQgMTQuNjkzMyAxNS41MjM3IDE0LjQ4IDE1LjY3MDQgMTQuMzZMMTguMTYzNyAxMi4yNjY3QzE4LjMxMDQgMTIuMTQ2NyAxOC41MTA0IDEyLjE3MzMgMTguNjE3IDEyLjMySDE4LjYzMDRaTTEyLjcxMDQgMTguMDhDMTIuNTYzNyAxNy45NzMzIDEyLjM1MDQgMTguMDI2NyAxMi4yNTcgMTguMTg2N0wxMC42MzA0IDIxLjAxMzNDMTAuNTM3IDIxLjE3MzMgMTAuNjAzNyAyMS4zNzMzIDEwLjc2MzcgMjEuNDUzM0wxNi4xNzcgMjQuMDEzM0wxNS42NzA0IDI0Ljg4QzE1LjU3NyAyNS4wNCAxNS42NDM3IDI1LjI1MzMgMTUuODE3IDI1LjMyTDIxLjIwMzcgMjcuNzg2N0MyMS41OTA0IDI2Ljc4NjcgMjIuMTEwNCAyNS44NTMzIDIyLjc1MDQgMjUuMDEzM0wxMi43MTA0IDE4LjA4Wk04LjcyMzcgMjUuNzZDOC43NTAzNyAyNS41NzMzIDguOTM3MDMgMjUuNDY2NyA5LjExMDM2IDI1LjUwNjdMMjAuOTEwNCAyOC41ODY3QzIwLjYwMzcgMjkuNTg2NyAyMC40MzA0IDMwLjY0IDIwLjQwMzcgMzEuNzMzM0wxNC40OTcgMzEuMjUzM0MxNC4zMTA0IDMxLjI0IDE0LjE3NyAzMS4wNjY3IDE0LjIxNyAzMC44OEwxNC4zOTA0IDI5Ljg5MzNMOC40MzAzNyAyOS4zMzMzQzguMjQzNyAyOS4zMiA4LjEyMzcgMjkuMTQ2NyA4LjE1MDM3IDI4Ljk2TDguNzEwMzcgMjUuNzQ2N0w4LjcyMzcgMjUuNzZaTTguMjgzNyAzMy43MzMzQzguMDk3MDMgMzMuNzQ2NyA3Ljk3NzAzIDMzLjkyIDguMDAzNyAzNC4xMDY3TDguNTc3MDMgMzcuMzJDOC42MDM3IDM3LjUwNjcgOC43OTAzNiAzNy42MTMzIDguOTYzNyAzNy41NzMzTDE0Ljc1MDQgMzYuMDY2N0wxNC45MjM3IDM3LjA1MzNDMTQuOTUwNCAzNy4yNCAxNS4xMzcgMzcuMzQ2NyAxNS4zMTA0IDM3LjMwNjdMMjEuMDE3IDM1LjczMzNDMjAuNjgzNyAzNC43NDY3IDIwLjQ3MDQgMzMuNjkzMyAyMC40MTcgMzIuNjEzM0w4LjI3MDM3IDMzLjczMzNIOC4yODM3Wk0xMC4xNzcgNDIuMTg2N0MxMC4wODM3IDQyLjAyNjcgMTAuMTUwNCA0MS44MjY3IDEwLjMxMDQgNDEuNzQ2N0wyMS4zMjM3IDM2LjUyQzIxLjczNyAzNy41MDY3IDIyLjI5NyAzOC40MjY3IDIyLjk2MzcgMzkuMjUzM0wxOC4xMzcgNDIuNjkzM0MxNy45OTA0IDQyLjggMTcuNzc3IDQyLjc2IDE3LjY4MzcgNDIuNkwxNy4xNzcgNDEuNzJMMTIuMjU3IDQ1LjEyQzEyLjExMDQgNDUuMjI2NyAxMS44OTcgNDUuMTczMyAxMS44MDM3IDQ1LjAxMzNMMTAuMTYzNyA0Mi4xODY3SDEwLjE3N1pNMjMuNTIzNyAzOS44OTMzTDE0Ljk1MDQgNDguNTczM0MxNC44MTcgNDguNzA2NyAxNC44MzA0IDQ4LjkyIDE0Ljk3NyA0OS4wNEwxNy40ODM3IDUxLjEzMzNDMTcuNjMwNCA1MS4yNTMzIDE3LjgzMDQgNTEuMjI2NyAxNy45MzcgNTEuMDhMMjEuNDAzNyA0Ni4yTDIyLjE3NyA0Ni44NTMzQzIyLjMyMzcgNDYuOTczMyAyMi41MzcgNDYuOTQ2NyAyMi42NDM3IDQ2Ljc4NjdMMjYuMDAzNyA0MS45MDY3QzI1LjA5NyA0MS4zNDY3IDI0LjI1NyA0MC42NjY3IDIzLjUzNyAzOS44OTMzSDIzLjUyMzdaTTIxLjgzMDQgNTMuODI2N0MyMS42NTcgNTMuNzYgMjEuNTc3IDUzLjU2IDIxLjY1NyA1My40TDI2LjczNyA0Mi4zMDY3QzI3LjY3MDQgNDIuNzg2NyAyOC42ODM3IDQzLjE0NjcgMjkuNzM3IDQzLjM0NjdMMjguMjQzNyA0OS4wOEMyOC4yMDM3IDQ5LjI1MzMgMjguMDAzNyA0OS4zNiAyNy44MzA0IDQ5LjI5MzNMMjYuODgzNyA0OC45NDY3TDI1LjI5NyA1NC43MkMyNS4yNDM3IDU0Ljg5MzMgMjUuMDU3IDU1IDI0Ljg4MzcgNTQuOTMzM0wyMS44MTcgNTMuODEzM0wyMS44MzA0IDUzLjgyNjdaTTMwLjU3NyA0My40OTMzTDI5LjU5MDQgNTUuNjUzM0MyOS41NzcgNTUuODQgMjkuNzIzNyA1NiAyOS44OTcgNTZIMzMuMTYzN0MzMy4zNTAzIDU2IDMzLjQ5NyA1NS44NCAzMy40NzA0IDU1LjY1MzNMMzIuOTkwMyA0OS42OTMzSDMzLjk5MDNDMzQuMTc3IDQ5LjY5MzMgMzQuMzIzNyA0OS41MzMzIDM0LjMxMDMgNDkuMzQ2N0wzMy43NTAzIDQzLjQ1MzNDMzMuMTc3IDQzLjU0NjcgMzIuNTkwMyA0My41ODY3IDMxLjk5MDQgNDMuNTg2N0MzMS41MTA0IDQzLjU4NjcgMzEuMDQzNyA0My41NiAzMC41NzcgNDMuNDkzM1pNNDIuMzM3IDEwLjU3MzNDNDIuNDE3IDEwLjQgNDIuMzM3IDEwLjIxMzMgNDIuMTYzNyAxMC4xNDY3TDM5LjA5NyA5LjAyNjY3QzM4LjkyMzcgOC45NiAzOC43MzcgOS4wNjY2NyAzOC42ODM3IDkuMjRMMzcuMDk3IDE1LjAxMzNMMzYuMTUwMyAxNC42NjY3QzM1Ljk3NyAxNC42IDM1Ljc5MDMgMTQuNzA2NyAzNS43MzcgMTQuODhMMzQuMjQzNyAyMC42MTMzQzM1LjMxMDMgMjAuODI2NyAzNi4zMTAzIDIxLjE4NjcgMzcuMjQzNyAyMS42NTMzTDQyLjMzNyAxMC41NzMzWk00OS4wMzAzIDE1LjQxMzNMNDAuNDU3IDI0LjA5MzNDMzkuNzM3IDIzLjMyIDM4LjkxMDMgMjIuNjQgMzcuOTkwMyAyMi4wOEw0MS4zNTAzIDE3LjJDNDEuNDU3IDE3LjA1MzMgNDEuNjcwMyAxNy4wMTMzIDQxLjgxNyAxNy4xMzMzTDQyLjU5MDMgMTcuNzg2N0w0Ni4wNTcgMTIuOTA2N0M0Ni4xNjM3IDEyLjc2IDQ2LjM3NyAxMi43MzMzIDQ2LjUxMDMgMTIuODUzM0w0OS4wMTcgMTQuOTQ2N0M0OS4xNjM3IDE1LjA2NjcgNDkuMTYzNyAxNS4yOCA0OS4wNDM3IDE1LjQxMzNINDkuMDMwM1pNNTMuNjcwMyAyMi4yNEM1My44NDM3IDIyLjE2IDUzLjg5NyAyMS45NiA1My44MDM3IDIxLjhMNTIuMTYzNyAxOC45NzMzQzUyLjA3MDMgMTguODEzMyA1MS44NTcgMTguNzczMyA1MS43MTAzIDE4Ljg2NjdMNDYuNzkwMyAyMi4yNjY3TDQ2LjI4MzcgMjEuNEM0Ni4xOTAzIDIxLjI0IDQ1Ljk3NyAyMS4xODY3IDQ1LjgzMDMgMjEuMzA2N0w0MS4wMDM3IDI0Ljc0NjdDNDEuNjcwMyAyNS41NzMzIDQyLjIxNyAyNi40OTMzIDQyLjY0MzcgMjcuNDhMNTMuNjU3IDIyLjI1MzNMNTMuNjcwMyAyMi4yNFpNNTUuNDAzNyAyNi42NjY3TDU1Ljk2MzcgMjkuODhDNTUuOTkwMyAzMC4wNjY3IDU1Ljg3MDMgMzAuMjI2NyA1NS42ODM3IDMwLjI1MzNMNDMuNTM3IDMxLjM4NjdDNDMuNDgzNyAzMC4yOTMzIDQzLjI3MDMgMjkuMjUzMyA0Mi45MzcgMjguMjY2N0w0OC42NDM3IDI2LjY5MzNDNDguODE3IDI2LjY0IDQ5LjAwMzcgMjYuNzYgNDkuMDMwMyAyNi45NDY3TDQ5LjIwMzcgMjcuOTMzM0w1NC45OTAzIDI2LjQyNjdDNTUuMTYzNyAyNi4zODY3IDU1LjM1MDMgMjYuNDkzMyA1NS4zNzcgMjYuNjhMNTUuNDAzNyAyNi42NjY3Wk01NC44NTcgMzguNDY2N0M1NS4wMzAzIDM4LjUwNjcgNTUuMjE3IDM4LjQgNTUuMjQzNyAzOC4yMTMzTDU1LjgwMzcgMzVDNTUuODMwMyAzNC44MTMzIDU1LjcxMDMgMzQuNjUzMyA1NS41MjM3IDM0LjYyNjdMNDkuNTYzNyAzNC4wNjY3TDQ5LjczNyAzMy4wOEM0OS43NjM3IDMyLjg5MzMgNDkuNjQzNyAzMi43MzMzIDQ5LjQ1NyAzMi43MDY3TDQzLjU1MDMgMzIuMjI2N0M0My41MjM3IDMzLjMyIDQzLjM1MDMgMzQuMzczMyA0My4wNDM3IDM1LjM3MzNMNTQuODQzNyAzOC40NTMzTDU0Ljg1NyAzOC40NjY3Wk01MS43MTAzIDQ1LjhDNTEuNjE3IDQ1Ljk2IDUxLjQwMzcgNDYgNTEuMjU3IDQ1LjkwNjdMNDEuMjE3IDM4Ljk3MzNDNDEuODU3IDM4LjEzMzMgNDIuMzc3IDM3LjIgNDIuNzYzNyAzNi4yTDQ4LjE1MDMgMzguNjY2N0M0OC4zMjM3IDM4Ljc0NjcgNDguMzkwMyAzOC45NDY3IDQ4LjI5NyAzOS4xMDY3TDQ3Ljc5MDMgMzkuOTczM0w1My4yMDM3IDQyLjUzMzNDNTMuMzYzNyA0Mi42MTMzIDUzLjQzMDMgNDIuODEzMyA1My4zMzcgNDIuOTczM0w1MS43MTAzIDQ1LjhaTTM4LjI4MzcgNDEuNzA2N0w0NS4zMzcgNTEuNjUzM0M0NS40NDM3IDUxLjggNDUuNjU3IDUxLjgyNjcgNDUuNzkwMyA1MS43MDY3TDQ4LjI4MzcgNDkuNjEzM0M0OC40MzAzIDQ5LjQ5MzMgNDguNDMwMyA0OS4yOCA0OC4zMTAzIDQ5LjE0NjdMNDQuMTEwMyA0NC44OTMzTDQ0Ljg4MzcgNDQuMjUzM0M0NS4wMzAzIDQ0LjEzMzMgNDUuMDMwMyA0My45MiA0NC44OTcgNDMuNzg2N0w0MC42NzAzIDM5LjYyNjdDMzkuOTYzNyA0MC40MjY3IDM5LjE2MzcgNDEuMTMzMyAzOC4yNzAzIDQxLjcwNjdIMzguMjgzN1pNMzguMjE3IDU1LjI1MzNDMzguMDQzNyA1NS4zMiAzNy44NTcgNTUuMjEzMyAzNy44MDM3IDU1LjA0TDM0LjU3NyA0My4yOEMzNS42MzAzIDQzLjA0IDM2LjYzMDMgNDIuNjUzMyAzNy41NTAzIDQyLjE0NjdMNDAuMDk3IDQ3LjQ5MzNDNDAuMTc3IDQ3LjY2NjcgNDAuMDk3IDQ3Ljg2NjcgMzkuOTIzNyA0Ny45MkwzOC45NzcgNDguMjY2N0w0MS40NzAzIDUzLjcwNjdDNDEuNTUwMyA1My44OCA0MS40NzAzIDU0LjA2NjcgNDEuMjk3IDU0LjEzMzNMMzguMjMwMyA1NS4yNTMzSDM4LjIxN1oiIGZpbGw9ImJsYWNrIi8+Cjwvc3ZnPgo=
description: "Okta as a System of Record"
address: "{{Input Required: Okta-Domain}}.okta.com"
defaultSyncFrequency: HOURLY
defaultSyncMinInterval: 1
defaultApiCallFrequency: SECONDLY
defaultApiCallMinInterval: 1
adapter:
  hostname: "adapter.sgnl.svc.cluster.local"
  port: 80
  config: "ewogICAgInZlcnNpb24iOiAxLAogICAgImNvbmZpZyI6IHsKICAgICAgICAicmVxdWVzdFRpbWVvdXQiOiAiMTBzIiwKICAgICAgICAib2t0YSI6IHsKICAgICAgICAgICAgImFwaVZlcnNpb24iOiAidjEiCiAgICAgICAgfQogICAgfQp9"
  apiVersion: "V1"
  disableTls: true
  auth:
    - oAuth2ClientCredentials:
        clientId: "{{Input Required: Client-ID}}"
        tokenUrl: "https://{{Input Required: Okta-Domain}}/oauth2/v1/token"
        authStyle: AutoDetect
        clientSecret: "{{Input Required: Client-Secret}}"
        scope: "okta.users.read okta.groups.read"

entities:
  User:
    displayName: OktaUser
    externalId: User
    description: User entity in Okta
    syncFrequency: HOURLY
    syncMinInterval: 1
    apiCallFrequency: SECONDLY
    apiCallMinInterval: 1
    pageSize: 100
    pagesOrderedById: false
    attributes:
      - name: id
        externalId: id
        type: String
        indexed: true
        uniqueId: true
      - name: status
        externalId: status
        type: String
      - name: created
        externalId: created
        type: DateTime
      - name: activated
        externalId: activated
        type: DateTime
      - name: statusChanged
        externalId: statusChanged
        type: DateTime
      - name: lastLogin
        externalId: lastLogin
        type: DateTime
      - name: lastUpdated
        externalId: lastUpdated
        type: DateTime
      - name: passwordChanged
        externalId: passwordChanged
        type: DateTime
      - name: transitioningToStatus
        externalId: transitioningToStatus
        type: String
      - name: type__id
        externalId: type__id
        type: String
      - name: profile__login
        externalId: profile__login
        type: String
      - name: profile__email
        externalId: profile__email
        type: String
        indexed: true
      - name: profile__secondEmail
        externalId: profile__secondEmail
        type: String
      - name: profile__firstName
        externalId: profile__firstName
        type: String
      - name: profile__lastName
        externalId: profile__lastName
        type: String
      - name: profile__middleName
        externalId: profile__middleName
        type: String
      - name: profile__honorificPrefix
        externalId: profile__honorificPrefix
        type: String
      - name: profile__honorificSuffix
        externalId: profile__honorificSuffix
        type: String
      - name: profile__title
        externalId: profile__title
        type: String
      - name: profile__displayName
        externalId: profile__displayName
        type: String
      - name: profile__nickName
        externalId: profile__nickName
        type: String
      - name: profile__profileUrl
        externalId: profile__profileUrl
        type: String
      - name: profile__primaryPhone
        externalId: profile__primaryPhone
        type: String
      - name: profile__mobilePhone
        externalId: profile__mobilePhone
        type: String
      - name: profile__streetAddress
        externalId: profile__streetAddress
        type: String
      - name: profile__city
        externalId: profile__city
        type: String
      - name: profile__state
        externalId: profile__state
        type: String
      - name: profile__zipCode
        externalId: profile__zipCode
        type: String
      - name: profile__countryCode
        externalId: profile__countryCode
        type: String
      - name: profile__postalAddress
        externalId: profile__postalAddress
        type: String
      - name: profile__preferredLanguage
        externalId: profile__preferredLanguage
        type: String
      - name: profile__locale
        externalId: profile__locale
        type: String
      - name: profile__timezone
        externalId: profile__timezone
        type: String
      - name: profile__userType
        externalId: profile__userType
        type: String
      - name: profile__employeeNumber
        externalId: profile__employeeNumber
        type: String
      - name: profile__costCenter
        externalId: profile__costCenter
        type: String
      - name: profile__organization
        externalId: profile__organization
        type: String
      - name: profile__division
        externalId: profile__division
        type: String
      - name: profile__department
        externalId: profile__department
        type: String
      - name: profile__managerId
        externalId: profile__managerId
        type: String
        indexed: true
      - name: profile__manager
        externalId: profile__manager
        type: String
  Group:
    displayName: OktaGroup
    externalId: Group
    description: Group entity in Okta
    syncFrequency: HOURLY
    syncMinInterval: 1
    apiCallFrequency: SECONDLY
    apiCallMinInterval: 1
    pageSize: 100
    pagesOrderedById: false
    attributes:
      - name: id
        externalId: id
        type: String
        indexed: true
        uniqueId: true
      - name: created
        externalId: created
        type: DateTime
      - name: lastUpdated
        externalId: lastUpdated
        type: DateTime
      - name: lastMembershipUpdated
        externalId: lastMembershipUpdated
        type: DateTime
      - name: objectClass
        externalId: objectClass
        type: String
        list: true
      - name: type
        externalId: type
        type: String
      - name: profile__name
        externalId: profile__name
        type: String
        indexed: true
      - name: profile__description
        externalId: profile__description
        type: String
  GroupMember:
    displayName: GroupMember
    externalId: GroupMember
    description: Group Member entity in Okta
    syncFrequency: HOURLY
    syncMinInterval: 1
    apiCallFrequency: SECONDLY
    apiCallMinInterval: 1
    pageSize: 100
    pagesOrderedById: false
    attributes:
      - name: id
        externalId: id
        type: String
        indexed: true
        uniqueId: true
      - name: groupId
        externalId: groupId
        type: String
        indexed: true
      - name: userId
        externalId: userId
        type: String
        indexed: true

relationships:
  Member:
    name: Member
    fromAttribute: GroupMember.userId
    toAttribute: User.id
  GroupMembership:
    name: GroupMembership
    fromAttribute: GroupMember.groupId
    toAttribute: Group.id
  UserManager:
    name: Manager
    fromAttribute: User.profile__managerId
    toAttribute: User.id
